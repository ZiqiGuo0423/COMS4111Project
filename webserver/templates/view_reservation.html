{% extends "layout.html" %}

{% block content %}

<script>
    $(document).ready(function(){
        /* prevent making post request when refresh the page */
        if ( window.history.replaceState ) {
            window.history.replaceState( null, null, window.location.href );
        };
        $('.back').click(function(){
            /* redirect the webpage to customer.html */
            window.location.assign("/customer")
        })
    })
</script>


<div id = 'search-waiter'>
    <h2>Search Your Reservation</h2>
    <form accept-charset="UTF-8" action="/view_reservation" autocomplete="off" method="POST">                  
        <label for="id">Phone Number : </label>
        <input name="id"type="text" value=""/> <br />
        <button type="submit" class = 'hero-btn' name = 'search'>Search</button>        
    </form>
</div>

<div id = 'menu'>
    <h1>
        Reservation
    </h1>
</div>

<div>
    <table class="reservation-table">
        <thead>
            <tr>
                <th>Reservation ID</th>
                <th>Phone Number</th>
                <th>Last Name</th>
                <th>First Name</th>
                <th>Number of People</th>
                <th>Date</th>
                <th>Table Number</th>
                <th>Order Number</th>
                <th>Order Status</th>
                <th>Serving Waiter's ID</th>
            </tr>
        </thead>
        <tbody>
            
            {% for row in data %}
            <tr>
                {% for element in row %}
                <td>{{element}}</td>
                {% endfor %}    
            </tr>
            {% endfor %}

            
        </tbody>
    </table>
</div>

<div id = 'menu'>
    <h1>
        Companions (if any)
    </h1>
</div>

<div>
    <table class="reservation-table">
        <thead>
            <tr>
                <th>Name</th>
                <th>Phone Number</th>
                <th>Need Assistance or Not</th>
            </tr>
        </thead>
        <tbody>
            
            {% for row in data1 %}
            <tr>
                {% for element in row %}
                <td>{{element}}</td>
                {% endfor %}    
            </tr>
            {% endfor %}

            
        </tbody>
    </table>
</div>


<div id = 'search-waiter'>
    <h2>View Order Detail</h2>
    <form accept-charset="UTF-8" action="/view_reservation" autocomplete="off" method="POST">                  
        <label for="id">Order Number : </label>
        <input name="id"type="text" value=""/> <br />
        <button type="submit" class = 'hero-btn' name = 'order'>Search</button>        
    </form>
</div>

<div>
    <table class="reservation-table">
        <thead>
            <tr>
                <th>Order Number</th>
                <th>Dish Name</th>
                <th>Quantity</th>
                <th>Unit Price</th>
                <th>Responsible Chef</th>
            </tr>
        </thead>
        <tbody>
            
            {% for row in data2 %}
            <tr>
                {% for element in row %}
                <td>{{element}}</td>
                {% endfor %}    
            </tr>
            {% endfor %}

            
        </tbody>
    </table>
</div>

<div id = 'detail-table'>
    <table class="reservation-table">
        <thead>
            <tr>
                <th>Total Quantity</th>
                <th>Total Amount</th>
            </tr>
        </thead>
        <tbody>
            
            {% for row in data3 %}
            <tr>
                {% for element in row %}
                <td>{{element}}</td>
                {% endfor %}    
            </tr>
            {% endfor %}

            
        </tbody>
    </table>
</div>

<div id = 'search-waiter'>
    <h2>Cancel Your Upcoming Reservation</h2>
    <form accept-charset="UTF-8" action="/view_reservation" autocomplete="off" method="POST">                  
        <label for="id">Phone Number : </label>
        <input name="id"type="text" value="" required/> <br />
        <button type="submit" class = 'hero-btn' name = 'delete'>Cancel</button>        
    </form>
</div>

<div id = 'search-waiter'>
    <h2>Reschedule Upcoming Reservation</h2>
    <form accept-charset="UTF-8" action="/view_reservation" autocomplete="off" method="POST">                  
        <label for="id">Phone Number : </label>
        <input name="id"type="text" value="" required/> <br />
        <label for="date">New Date : </label>
        <input name="date"type="text" value="" required/> <br />
        <button type="submit" class = 'hero-btn' name = 'reschedule'>Reschedule</button>        
    </form>
</div>


<div>
    <button type="button" class = 'hero-btn back' id = 'customer-back'>Back</button>
</div>


<!-----footer------>
<div class = 'footer'>
    <h4>About Us</h4>
    <p>Made by Ziqi Guo (zg2410) & Xinglu Zhou (xz3065)</p>
</div>


{% endblock %}
